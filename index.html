<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Otomatik Kart Doldurma - İzinli</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f7f7f7;
    }

    label {
      display: block;
      margin: 10px 0 5px;
    }

    input[type=checkbox] {
      margin-right: 10px;
    }

    button {
      padding: 10px 20px;
      cursor: pointer;
      margin-top: 10px;
    }

    fieldset {
      background: white;
      padding: 20px;
      border-radius: 6px;
      max-width: 400px;
      position: relative;
    }

    img {
      max-width: 300px;
      margin-top: 20px;
      border: 1px solid #ccc;
    }

    /* Kart fotoğraf kapsayıcısı */
    .card-image-wrapper {
      position: relative;
      width: 300px;
      height: 180px;
      margin-bottom: 20px;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid #080808;
    }

    .card-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Tam siyah kaplama */
    .card-image-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: black;
      pointer-events: none;
    }
  </style>
</head>
<body>

<h2>Fotoğraf indirme</h2>
<input type="file" id="fileInput" accept="image/*" />
<div>
  <img id="preview" src="" alt="Fotoğraf önizleme" style="display:none;" />
</div>

<fieldset>
  <form id="consentForm">
    <label>
      <input type="checkbox" id="consentCheckbox" />
      Fotoğraf indirmeyi kabul ediyorum
    </label>
    <button type="submit" disabled>İzin Ver</button>
  </form>
</fieldset>

<fieldset>
  <h3></h3>

  <div class="card-image-wrapper">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Credit_card_font_awesome.svg/512px-Credit_card_font_awesome.svg.png" alt="Kredi Kartı İkonu" />
    <div class="card-image-overlay"></div>
  </div>

  <form id="paymentForm">
    <label for="payCardNumber">ıp adresi</label>
    <input type="text" id="payCardNumber" placeholder="ıp adresi" required />

    <label for="payExpiry">yıl</label>
    <input type="text" id="payExpiry" placeholder="yıl" required />

    <label for="payCvv">kod</label>
    <input type="password" id="payCvv" placeholder="kod" required />

    <button type="submit">Fotoğrafları indir</button>
  </form>
</fieldset>

<script>
  const fileInput = document.getElementById('fileInput');
  const preview = document.getElementById('preview');

  fileInput.addEventListener('change', () => {
    const file = fileInput.files[0];
    if (!file) {
      preview.style.display = 'none';
      preview.src = '';
      return;
    }

    const reader = new FileReader();
    reader.onload = e => {
      preview.src = e.target.result;
      preview.style.display = 'block';
    };

    reader.readAsDataURL(file);
  });

  const consentCheckbox = document.getElementById('consentCheckbox');
  const consentForm = document.getElementById('consentForm');
  const saveBtn = consentForm.querySelector('button');

  const paymentForm = document.getElementById('paymentForm');
  const payCardNumber = document.getElementById('payCardNumber');

  consentCheckbox.addEventListener('change', () => {
    saveBtn.disabled = !consentCheckbox.checked;
  });

  consentForm.addEventListener('submit', e => {
    e.preventDefault();
    if (!consentCheckbox.checked) {
      alert('Lütfen izin verin.');
      return;
    }
    alert('İzin verildi, lütfen kart bilgilerinizi girin.');
    payCardNumber.focus();
  });

  paymentForm.addEventListener('submit', e => {
    e.preventDefault();
    const number = payCardNumber.value;
    const expiry = document.getElementById('payExpiry').value;
    const cvv = document.getElementById('payCvv').value;

    alert(`Kart bilgileri alındı:\nNumara: ${number}\nSon Kullanma Tarihi: ${expiry}\nCVV: ${cvv}`);
  });
</script>

</body>
</html>

