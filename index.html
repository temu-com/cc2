<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Kredi Kartı Otomatik Doldurma Demo</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
    label { display: block; margin: 10px 0 5px; }
    input[type=text], input[type=password], input[type=checkbox] { padding: 8px; width: 300px; }
    button { padding: 10px 20px; margin-top: 15px; cursor: pointer; }
    fieldset { background: white; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
  </style>
</head>
<body>

  <h2>Kredi Kartı Bilgilerinizi Kaydedin ve İzin Verin</h2>

  <fieldset>
    <form id="consentForm">
      <label>
        <input type="checkbox" id="consentCheckbox" />
        Kredi kartı bilgilerimin güvenli şekilde saklanmasını ve ödeme formunda otomatik doldurulmasını kabul ediyorum.
      </label>

      <label for="cardNumber">Kart Numarası</label>
      <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" disabled required />

      <label for="expiry">Son Kullanma Tarihi (AA/YY)</label>
      <input type="text" id="expiry" placeholder="12/25" disabled required />

      <label for="cvv">CVV</label>
      <input type="password" id="cvv" placeholder="123" disabled required />

      <button type="submit" disabled>Kart Bilgilerini Kaydet</button>
    </form>
  </fieldset>

  <fieldset>
    <h3>Ödeme Formu</h3>
    <form id="paymentForm">
      <label for="payCardNumber">Kart Numarası</label>
      <input type="text" id="payCardNumber" placeholder="Kart numarası" required />

      <label for="payExpiry">Son Kullanma Tarihi</label>
      <input type="text" id="payExpiry" placeholder="AA/YY" required />

      <label for="payCvv">CVV</label>
      <input type="password" id="payCvv" placeholder="CVV" required />

      <button type="submit">Ödemeyi Gerçekleştir</button>
    </form>
  </fieldset>

  <script>
    const consentCheckbox = document.getElementById('consentCheckbox');
    const cardNumber = document.getElementById('cardNumber');
    const expiry = document.getElementById('expiry');
    const cvv = document.getElementById('cvv');
    const saveBtn = document.querySelector('#consentForm button');

    let savedCard = null;

    // Checkbox değişince inputları ve butonu aktif/pasif yap
    consentCheckbox.addEventListener('change', () => {
      const enabled = consentCheckbox.checked;
      cardNumber.disabled = !enabled;
      expiry.disabled = !enabled;
      cvv.disabled = !enabled;
      saveBtn.disabled = !enabled;
    });

    // Kart bilgilerini kaydet (burada sadece değişkende tutuyoruz)
    document.getElementById('consentForm').addEventListener('submit', e => {
      e.preventDefault();
      savedCard = {
        number: cardNumber.value,
        expiry: expiry.value,
        cvv: cvv.value
      };
      alert('Kart bilgileriniz güvenli şekilde kaydedildi.');
    });

    // Ödeme formuna focus olunca otomatik doldur
    document.getElementById('paymentForm').addEventListener('focusin', () => {
      if(savedCard && consentCheckbox.checked) {
        document.getElementById('payCardNumber').value = savedCard.number;
        document.getElementById('payExpiry').value = savedCard.expiry;
        document.getElementById('payCvv').value = savedCard.cvv;
      }
    });

    // Ödeme formu submit olunca
    document.getElementById('paymentForm').addEventListener('submit', e => {
      e.preventDefault();
      alert('Ödeme işlemi gerçekleştirildi (sadece demo).');
    });
  </script>

</body>
</html>
